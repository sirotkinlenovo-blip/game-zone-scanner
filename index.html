<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAME ZONE - –°–∫–∞–Ω–µ—Ä –∏–≥—Ä</title>
    <meta name="theme-color" content="#1a1a2e">
    <meta name="description" content="–°–∫–∞–Ω–µ—Ä –∏–≥—Ä–æ–≤—ã—Ö –¥–∏—Å–∫–æ–≤ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ GAME ZONE">
    
    <!-- PWA –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="https://avatars.mds.yandex.net/get-altay/16915650/2a0000019a24cb39e7e0f13ab054c8530af6/S_height">
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- –®—Ä–∏—Ñ—Ç Cinzel –¥–ª—è Skyrim —Å—Ç–∏–ª—è -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ -->
    <div id="install-prompt" class="install-prompt">
        ‚öîÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ GAME ZONE –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞!
        <button id="install-btn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
        <button id="dismiss-install" style="background: linear-gradient(135deg, #6c757d 0%, #545b62 100%);">–ü–æ–∑–∂–µ</button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container" id="app-container">
        <div id="mode-indicator" class="mode-indicator" style="display: none;">‚öîÔ∏è –ö–õ–ò–ï–ù–¢</div>
        
        <div class="header">
            <div class="store-logo">
                <img src="https://avatars.mds.yandex.net/get-altay/16915650/2a0000019a24cb39e7e0f13ab054c8530af6/S_height" 
                     alt="GAME ZONE" 
                     class="logo-img">
            </div>
            <div>
                <h1>GAME ZONE</h1>
                <p id="app-subtitle">–°–∫–∞–Ω–µ—Ä –∏–≥—Ä–æ–≤—ã—Ö –¥–∏—Å–∫–æ–≤</p>
            </div>
        </div>

        <!-- –û–î–ù–û –ï–î–ò–ù–û–ï –ü–û–õ–ï –¶–ï–ù–´ –° –ò–ù–§–û–†–ú–ê–¶–ò–ï–ô -->
        <div id="current-price" class="current-price">
            ‚öîÔ∏è –¶–µ–Ω–∞: <span id="current-price-value">0</span> —Ä—É–±
            <div id="price-details" class="price-details" style="display: none;">
                <div class="price-details-platform" id="price-details-platform"></div>
                <div class="price-details-name" id="price-details-name"></div>
            </div>
        </div>

        <div id="scanner-container">
            <div class="scanner-placeholder">
                <div class="icon">üì∑</div>
                <div class="text" id="scanner-text">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞</div>
            </div>
        </div>

        <button id="open-search-btn" class="btn">üîç –£–º–Ω—ã–π –ø–æ–∏—Å–∫</button>

        <!-- –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∏ -->
        <button id="sale-btn" class="btn sale">üí∞ –û–§–û–†–ú–ò–¢–¨ –ü–†–û–î–ê–ñ–£</button>

        <!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <button id="stats-btn" class="btn stats">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂</button>

        <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ (—Ç–æ–ª—å–∫–æ –≤ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏) -->
        <button id="switch-mode-btn" class="btn switch-mode">üë§ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ä–µ–∂–∏–º</button>

        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∞–º–∏ -->
        <div class="log-buttons">
            <button id="download-logs-btn" class="log-btn download">üì• –°–∫–∞—á–∞—Ç—å –ª–æ–≥–∏</button>
            <button id="clear-logs-btn" class="log-btn clear">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
        </div>

        <div id="scanning-status" class="scanning-status" style="display: none;"></div>

        <div id="status" class="status">
            <div class="loading-spinner"></div>
            <span id="status-text">–ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ...</span>
        </div>

        <!-- –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ (–¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞) -->
        <div id="game-info" class="game-info">
            <div class="info-row">
                <span class="info-label">–Ø–∑—ã–∫ –∏–≥—Ä—ã:</span>
                <span class="info-value" id="game-language"></span>
            </div>
            
            <div class="info-row">
                <span class="info-label">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</span>
                <span class="info-value" id="game-platform"></span>
            </div>
            <div class="info-row" id="game-code-row">
                <span class="info-label" id="game-code-label">CUSA:</span>
                <span class="info-value" id="game-code"></span>
            </div>
            <div class="info-row">
                <span class="info-label">–®—Ç—Ä–∏—Ö-–∫–æ–¥:</span>
                <span class="info-value" id="game-barcode"></span>
            </div>
            <div class="info-row">
                <span class="info-label">–¶–µ–Ω–∞ –≤ –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ:</span>
                <span class="info-value" id="game-marketplace"></span>
            </div>
        </div>

        <div class="app-version">
            üêâ –í–µ—Ä—Å–∏—è <span id="app-version-number">5.0</span> | GAME ZONE PWA | –†–µ–∂–∏–º: <span id="mode-status">–ü–û–õ–ù–´–ô</span>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-modal" class="modal">
        <div class="modal-header">
            <div class="modal-title">üõí –ö–æ—Ä–∑–∏–Ω–∞</div>
            <button class="modal-close" id="close-cart-btn">√ó</button>
        </div>
        <div class="modal-body">
            <div id="cart-items" class="cart-list">
                <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
            <div id="cart-total" class="cart-total">
                –û–±—â–∞—è —Å—É–º–º–∞: <span id="cart-total-amount">0</span> —Ä—É–±
            </div>
            <div class="cart-buttons">
                <button id="clear-cart-btn" class="btn" style="background: linear-gradient(135deg, #dc3545 0%, #b02a37 100%);">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
                <button id="process-sale-btn" class="btn" style="background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);">üí∞ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–¥–∞–∂—É</button>
            </div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –ø–æ–∏—Å–∫–∞ - –ü–û–õ–ù–´–ô –≠–ö–†–ê–ù -->
    <div id="search-modal" class="modal">
        <div class="modal-header">
            <div class="modal-title">üîç –£–º–Ω—ã–π –ø–æ–∏—Å–∫</div>
            <button class="modal-close" id="close-search-btn">√ó</button>
        </div>
        <div class="modal-body">
            <div class="search-input-container">
                <input type="text" id="smart-search-input" class="search-input" 
                       placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–¥ –∏–ª–∏ —à—Ç—Ä–∏—Ö-–∫–æ–¥...">
            </div>
            <div class="search-hint">
                üí° –ü–æ–∏—Å–∫ –ø–æ: –Ω–∞–∑–≤–∞–Ω–∏—é –∏–≥—Ä—ã, CUSA/PPSA –∫–æ–¥—É –∏–ª–∏ —à—Ç—Ä–∏—Ö-–∫–æ–¥—É
            </div>
            <div id="smart-search-results" class="search-results-container">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –∫–∞–º–µ—Ä—ã -->
    <div id="camera-modal" class="modal">
        <div class="modal-header">
            <div class="modal-title">üì∑ –°–∫–∞–Ω–µ—Ä —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤</div>
            <button class="modal-close" id="close-camera-btn">√ó</button>
        </div>
        <div class="modal-body">
            <div class="camera-container">
                <video id="camera-view" class="camera-view" autoplay playsinline></video>
                <div class="camera-overlay">
                    <div class="camera-line"></div>
                </div>
            </div>
            <div class="camera-controls">
                <button id="restart-camera" class="camera-btn restart">üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞–º–µ—Ä—É</button>
                <button id="stop-camera" class="camera-btn secondary">‚ùå –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
            </div>
            <div id="camera-status" class="scanning-status" style="margin-top: 10px;"></div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <div id="stats-modal" class="modal">
        <div class="modal-header">
            <div class="modal-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂</div>
            <button class="modal-close" id="close-stats-btn">√ó</button>
        </div>
        <div class="modal-body">
            <div class="stats-period">
                üìÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞: <span id="stats-date"></span>
            </div>
            <div class="stats-grid">
                <div class="stat-card" data-stat="today-sales">
                    <div class="stat-value" id="today-sales">0</div>
                    <div class="stat-label">–ü—Ä–æ–¥–∞–∂ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-card" data-stat="today-revenue">
                    <div class="stat-value" id="today-revenue">0</div>
                    <div class="stat-label">–í—ã—Ä—É—á–∫–∞ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-card" data-stat="today-items">
                    <div class="stat-value" id="today-items">0</div>
                    <div class="stat-label">–¢–æ–≤–∞—Ä–æ–≤ —Å–µ–≥–æ–¥–Ω—è</div>
                </div>
                <div class="stat-card" data-stat="total-sales">
                    <div class="stat-value" id="total-sales">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–¥–∞–∂</div>
                </div>
                <div class="stat-card" data-stat="total-revenue">
                    <div class="stat-value" id="total-revenue">0</div>
                    <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                </div>
                <div class="stat-card" data-stat="total-items">
                    <div class="stat-value" id="total-items">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–∫–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <div id="stats-detail-modal" class="modal">
        <div class="modal-header">
            <div class="modal-header-title">
                <button class="modal-back-btn" id="back-to-stats-btn">‚Üê –ù–∞–∑–∞–¥</button>
                <div class="modal-title" id="stats-detail-title">üìã –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥–∞–∂</div>
            </div>
            <button class="modal-close" id="close-stats-detail-btn">√ó</button>
        </div>
        <div class="modal-body">
            <div id="stats-detail-period" class="stats-period">
                <!-- –ü–µ—Ä–∏–æ–¥ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
            <div id="stats-detail-content" class="sale-details-list">
                <!-- –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥–∞–∂ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <!-- –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ -->
    <div id="modal-overlay"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Quagga -->
    <script src="https://cdn.jsdelivr.net/npm/@ericblade/quagga2@1.8.1/dist/quagga.min.js"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="app.js"></script>
</body>
</html>
